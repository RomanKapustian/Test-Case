"use strict";(self.webpackChunkstorefront_base=self.webpackChunkstorefront_base||[]).push([["7"],{"./components/utils/storefront/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Storefront)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar Storefront = /*#__PURE__*/function () {\n  function Storefront() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, Storefront);\n    var technicalDataEl = document.querySelector(\'[data-technical]\');\n    if (!technicalDataEl) {\n      // eslint-disable-next-line no-console\n      console.error(\'utils/storefront/index.js: Could not locate Storefront credentials\');\n    }\n    this.data = JSON.parse(technicalDataEl.textContent);\n    this.apiVersion = this.data.apiVersion;\n    this.shopName = this.data.shopName;\n    this.storefrontToken = this.data.storefrontToken;\n    // Attaching to the window for easy access in storefront queries\n    window.TMW.localization = this.data.localization;\n    this.headers = {\n      \'X-Shopify-Storefront-Access-Token\': this.storefrontToken,\n      \'Content-Type\': \'application/json\'\n    };\n  }\n  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Storefront, [{\n    key: "request",\n    value: function () {\n      var _request = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().mark(function _callee(_ref) {\n        var query, _ref$variables, variables, response;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query, _ref$variables = _ref.variables, variables = _ref$variables === void 0 ? {} : _ref$variables;\n                _context.next = 3;\n                return fetch("https://".concat(this.shopName, "/api/").concat(this.apiVersion, "/graphql.json"), {\n                  headers: this.headers,\n                  method: \'POST\',\n                  body: JSON.stringify({\n                    query: query,\n                    variables: variables\n                  })\n                });\n              case 3:\n                response = _context.sent;\n                return _context.abrupt("return", response.json());\n              case 5:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function request(_x) {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }], [{\n    key: "getInstance",\n    value: function getInstance() {\n      if (!this.instance) this.instance = new Storefront();\n      return this.instance;\n    }\n  }]);\n  return Storefront;\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmVmcm9udC1iYXNlLy4vY29tcG9uZW50cy91dGlscy9zdG9yZWZyb250L2luZGV4LmpzP2Q1M2QiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmVmcm9udCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBjb25zdCB0ZWNobmljYWxEYXRhRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZWNobmljYWxdJyk7XHJcbiAgICBpZiAoIXRlY2huaWNhbERhdGFFbCkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICd1dGlscy9zdG9yZWZyb250L2luZGV4LmpzOiBDb3VsZCBub3QgbG9jYXRlIFN0b3JlZnJvbnQgY3JlZGVudGlhbHMnLFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGVjaG5pY2FsRGF0YUVsLnRleHRDb250ZW50KTtcclxuICAgIHRoaXMuYXBpVmVyc2lvbiA9IHRoaXMuZGF0YS5hcGlWZXJzaW9uO1xyXG4gICAgdGhpcy5zaG9wTmFtZSA9IHRoaXMuZGF0YS5zaG9wTmFtZTtcclxuICAgIHRoaXMuc3RvcmVmcm9udFRva2VuID0gdGhpcy5kYXRhLnN0b3JlZnJvbnRUb2tlbjtcclxuICAgIC8vIEF0dGFjaGluZyB0byB0aGUgd2luZG93IGZvciBlYXN5IGFjY2VzcyBpbiBzdG9yZWZyb250IHF1ZXJpZXNcclxuICAgIHdpbmRvdy5UTVcubG9jYWxpemF0aW9uID0gdGhpcy5kYXRhLmxvY2FsaXphdGlvbjtcclxuXHJcbiAgICB0aGlzLmhlYWRlcnMgPSB7XHJcbiAgICAgICdYLVNob3BpZnktU3RvcmVmcm9udC1BY2Nlc3MtVG9rZW4nOiB0aGlzLnN0b3JlZnJvbnRUb2tlbixcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHRoaXMuaW5zdGFuY2UgPSBuZXcgU3RvcmVmcm9udCgpO1xyXG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBhc3luYyByZXF1ZXN0KHsgcXVlcnksIHZhcmlhYmxlcyA9IHt9IH0pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovLyR7dGhpcy5zaG9wTmFtZX0vYXBpLyR7dGhpcy5hcGlWZXJzaW9ufS9ncmFwaHFsLmpzb25gLFxyXG4gICAgICB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcXVlcnksIHZhcmlhYmxlcyB9KSxcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlN0b3JlZnJvbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0ZWNobmljYWxEYXRhRWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb25zb2xlIiwiZXJyb3IiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwidGV4dENvbnRlbnQiLCJhcGlWZXJzaW9uIiwic2hvcE5hbWUiLCJzdG9yZWZyb250VG9rZW4iLCJ3aW5kb3ciLCJUTVciLCJsb2NhbGl6YXRpb24iLCJoZWFkZXJzIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJfcmVxdWVzdCIsIl9hc3luY1RvR2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwiX3JlZiIsInF1ZXJ5IiwiX3JlZiR2YXJpYWJsZXMiLCJ2YXJpYWJsZXMiLCJyZXNwb25zZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJmZXRjaCIsImNvbmNhdCIsIm1ldGhvZCIsImJvZHkiLCJzdHJpbmdpZnkiLCJzZW50IiwiYWJydXB0IiwianNvbiIsInN0b3AiLCJyZXF1ZXN0IiwiX3giLCJhcHBseSIsImFyZ3VtZW50cyIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/utils/storefront/index.js\n')}}]);